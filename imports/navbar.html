<div class="navbar-color padding-left15 padding-right5 width80 height8" style="z-index: 997; position: fixed; padding-left: 4.5vw; padding-right: 3vw; width: 92.5vw; height: 10vh">
  <div style="display: flex; flex-direction: row; align-items: center; width: 100%; height: 100%; justify-content: right; font-size: 3vh;">
    <i id="themeNAVBAR" onclick="changeTheme()" style="cursor: pointer" class="far fa-lightbulb-on navbar-color-select"></i>
    <div class="hoverMenuButton" style="position: relative; display: flex; flex-direction: column;">
      <i id="bellIcon" onclick="refreshLogin()" style="margin-inline: 3.5vh; padding-block: 2vh; cursor: pointer" class="far fa-bell navbar-color-select"></i>
      <div class="background-reverse width70 hoverMenu positionFixed top8-5" style="width: 25vw; position: absolute; right: 3vh; top: 6.5vh; border-radius: 3.5vh; border-top-right-radius: 0vh; font-size: 1.7vh; padding-block: 1vh; flex-direction: column; font-weight: 600;">
        <div id="bellLoader" style="position: absolute; width: 100%; height: 100%; justify-content: center; align-items: center; display: none;">
          <i style="font-size: 6vh; color: #ff9335" class="fad fa-spinner-third fa-spin"></i>
        </div>
        <div class="line-bottom-reverse" style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%; text-align: center">
          <a id="bellOper_button" onclick="openBell('bellOper')" class="width70p font-3 bellSelect" style="width: 50%; cursor: pointer">Geral</a>
          <a id="bellVend_button" onclick="openBell('bellVend')" class="width70p font-3" style="width: 50%; cursor: pointer;">Minhas</a>
        </div>
        <div id="bellOper" class="font-3">
          <div style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%">
            <i class="fa-light fa-file-circle-plus width15p" style="color: cornflowerblue; width: 10%; font-size: 4vh"></i>
            <a class="width70p" style="margin-left: 5%; width: 75%">Propostas em Pago</a>
            <a id="bellOper_inclusao" style="width: 10%; display: flex; justify-content: right;">0</a>
          </div>
          <div style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%">
            <i class="fa-light fa-file-circle-xmark width15p" style="color: red; width: 10%; font-size: 4vh"></i>
            <a class="width70p" style="margin-left: 5%; width: 75%">Propostas em Não Digitado</a>
            <a id="bellOper_nao_digitado" style="width: 10%; display: flex; justify-content: right;">0</a>
          </div>
          <div style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%">
            <i class="fa-light fa-file-circle-exclamation width15p" style="color: cyan; width: 10%; font-size: 4vh"></i>
            <a class="width70p" style="margin-left: 5%; width: 75%">Propostas em Verificação OP</a>
            <a id="bellOper_digitado" style="width: 10%; display: flex; justify-content: right;">0</a>
          </div>
          <div style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%">
            <i class="fa-light fa-file-circle-check width15p" style="color: brown; width: 10%; font-size: 4vh"></i>
            <a class="width70p" style="margin-left: 5%; width: 75%">Propostas em Pendência Resolvida</a>
            <a id="bellOper_pendencia_resolvida" style="width: 10%; display: flex; justify-content: right;">0</a>
          </div>
          <div style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%">
            <i class="fa-light fa-file-circle-question width15p" style="color: palevioletred; width: 10%; font-size: 4vh"></i>
            <a class="width70p" style="margin-left: 5%; width: 75%">Propostas em Assinado/Respondido</a>
            <a id="bellOper_assinado" style="width: 10%; display: flex; justify-content: right;">0</a>
          </div>
          <div style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%">
            <i class="fa-light fa-file-circle-exclamation width15p" style="color: gray; width: 10%; font-size: 4vh"></i>
            <a class="width70p" style="margin-left: 5%; width: 75%">Propostas em Liberar Assinar</a>
            <a id="bellOper_assinar" style="width: 10%; display: flex; justify-content: right;">0</a>
          </div>
        </div>

        <div id="bellVend" class="font-3" style="display: none">
          <div style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%">
            <i class="fa-light fa-file-circle-plus width15p" style="color: olivedrab; width: 10%; font-size: 4vh"></i>
            <a class="width70p" style="margin-left: 5%; width: 75%">Propostas em Inclusão</a>
            <a id="bellVend_inclusao" style="width: 10%; display: flex; justify-content: right;">0</a>
          </div>
          <div style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%">
            <i class="fa-light fa-file-circle-exclamation width15p" style="color: gold; width: 10%; font-size: 4vh"></i>
            <a class="width70p" style="margin-left: 5%; width: 75%">Propostas em Pendênte</a>
            <a id="bellVend_pendente" style="width: 10%; display: flex; justify-content: right;">0</a>
          </div>
          <div style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%">
            <i class="fa-light fa-file-circle-check width15p" style="color: darkorange; width: 10%; font-size: 4vh"></i>
            <a class="width70p" style="margin-left: 5%; width: 75%">Propostas em Pendênte por Assinatura</a>
            <a id="bellVend_pendente_assinatura" style="width: 10%; display: flex; justify-content: right;">0</a>
          </div>
          <div style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%">
            <i class="fa-light fa-file-circle-minus width15p" style="color: lavender; width: 10%; font-size: 4vh"></i>
            <a class="width70p" style="margin-left: 5%; width: 75%">Propostas em Aguaradando Assinatura</a>
            <a id="bellVend_aguardando_assinatura" style="width: 10%; display: flex; justify-content: right;">0</a>
          </div>
          <div style="width: 90%; display: flex; align-items: center; padding-block: 1vh; font-size: 1.9vh; margin-inline: 5%">
            <i class="fa-light fa-file-circle-question width15p" style="color: mediumseagreen; width: 10%; font-size: 4vh"></i>
            <a class="width70p" style="margin-left: 5%; width: 75%">Propostas em Análise</a>
            <a id="bellVend_analise" style="width: 10%; display: flex; justify-content: right;">0</a>
          </div>
        </div>

      </div>
    </div>
    <div class="hoverMenuButton" style="display: flex; flex-direction: column;">
      <div class="navbar-color-select font-size2-3" style="cursor: pointer; padding-block: 2vh">
        <a>@<span id="userNAVBAR" style="margin-left: 0.1vw">??????</span></a>
        <i style="margin-left: 0.4vw" class="fad fa-angle-down padding-left2"></i>
      </div>
      <div id="user-submenu" class="background-reverse width30 hoverMenu" style="cursor: pointer; width: 9vw; position: absolute; top: 8vh; right: 3vw; border-radius: 1.5vh; border-top-right-radius: 0vh; font-size: 1.7vh; text-align: center; padding-block: 1vh; flex-direction: column; font-weight: 600;">
        <a onclick="openAlter()" class="navbar-color-select">Alterar Senha</a>
        <a onclick="window.location = '/logout'" class="navbar-color-select" style="color: red; padding-top: 0.6vh"><i class="fas fa-sign-out"></i> Sair</a>
      </div>


      
      <div id="user-alter" class="background-reverse width70" style="width: 25vw; height: 40vh; position: absolute; top: 8vh; right: 3vw; border-radius: 4vh; border-top-right-radius: 0vh; font-size: 1.7vh; text-align: center; padding-block: 1vh; flex-direction: column; font-weight: 600; display: none">
        <a class="font-3" style="font-size: 4vh; padding-block: 2vh">Mudar Senha</a>
        <fieldset id="fieldset" title="Coloque sua senha atual..." style="border-radius: 0.6vh; width: 76%; height: 7vh; padding: 0; padding-inline: 2%; margin: 0; text-align: left; margin-inline: 10%">
          <legend class="font-4" style="margin: 0; padding: 0; font-size: 2.3vh">Senha Atual</legend>
          <input id="actualPass" type="password" class="font-1 font-color-reverse" placeholder="Coloque aqui sua senha atual..." style="width: 100%; height: 3vh; margin: 0; font-size: 2.3vh; background: transparent; border: 0">
        </fieldset>
        <fieldset id="fieldset" title="Coloque sua senha atual..." style="border-radius: 0.6vh; width: 76%; height: 7vh; padding: 0; padding-inline: 2%; margin: 0; text-align: left; margin-inline: 10%">
          <legend class="font-4" style="margin: 0; padding: 0; font-size: 2.3vh">Nova Senha</legend>
          <input id="newPass" type="password" class="font-1 font-color-reverse" placeholder="Coloque aqui sua nova senha atual..." style="width: 100%; height: 3vh; margin: 0; font-size: 2.3vh; background: transparent; border: 0">
        </fieldset>
        <fieldset id="fieldset" title="Coloque sua senha atual..." style="border-radius: 0.6vh; width: 76%; height: 7vh; padding: 0; padding-inline: 2%; margin: 0; text-align: left; margin-inline: 10%">
          <legend class="font-4" style="margin: 0; padding: 0; font-size: 2.3vh">Repeta a Senha</legend>
          <input id="repeatPass" type="password" class="font-1 font-color-reverse" placeholder="Repita sua nova senha atual..." style="width: 100%; height: 3vh; margin: 0; font-size: 2.3vh; background: transparent; border: 0">
        </fieldset>
        <!-- <fieldset id="fieldset" title="Coloque sua senha atual..." style="border-radius: 0.6vh; width: 76%; height: 7vh; padding: 0; padding-inline: 2%; margin: 0; text-align: left; margin-inline: 10%; margin-top: 2vh">
          <legend class="font-4" style="margin: 0; padding: 0; font-size: 2.3vh">Alterar Email</legend>
          <input id="newEmail" class="font-1 font-color-reverse" placeholder="Coloque aqui seu novo email..." style="width: 100%; height: 3vh; margin: 0; font-size: 2.3vh; background: transparent; border: 0">
        </fieldset> -->
        <div id="alterUser" onclick="alterUser()" class="buttonLogin2" style="margin-inline: 2vw; padding-block: 1.5vh; font-size: 2.8vh; border-radius: 2vh; margin-top: 2vh;">
          <p class="font-1 font-color-reverse">Alterar</p>
        </div>
        <div style="position:absolute; top: 2vh; right: 2vh">
          <i onclick="openAlter()" class="far fa-times" style="cursor: pointer; font-size: 3.5vh;"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="width16 navbar-color-select" onclick="openSideBar()" style="z-index: 998; position: fixed; top: 0; left: 0; width: 4.5vw; height: 9.8vh; display: flex; align-items: center; cursor: pointer">
  <i id="iconSideBar" class="navbar-color-select fas fa-bars min-width16-1 font-color-reverse" style="display: flex; min-width: 4.6vw; justify-content: center; font-size: 4vh"></i>
  <div style="height: 9.8vh; align-items: center; margin-left: 1vh; margin-top: 1vh"><a href="/"><img id="logo2" class="zoom" src="/public/images/logo_white.png" style="z-index: 2; height: 9vh; display: none"></a></div>
</div>

<div id="sidebar" class="navbar-color width0" style="z-index: 997; position: fixed; width: 4.5vw; height: 100vh; font-size: 4vh; overflow: hidden; ">
  <div style="height:9.8vh"></div>
  <div id="administrativo">
    <div onclick="openSubMenu('administrativo')" id="button-administrativo" class="navbar-background-select font-size3" style="border-top: 0.1vh solid rgba(0,0,0, 0.3); height: 7.5vh; display: flex; align-items: center; cursor: pointer">
      <i class="fa-regular fa-gear min-width16-1" style="display: flex; min-width: 4.6vw; justify-content: center;"></i>
      <a class="font-size2-5" style="font-size: 3vh; display: flex; width: 100%">Administrativo <i id="arrow-administrativo" class="fas fa-caret-left" style="width: 90%; margin-right: 10%; font-size: 3.5vh; display: flex; justify-content: right;"></i></a>
    </div>
    <div id="sub-administrativo" class="font-size2" style="display: none; flex-direction: column; font-size: 2.5vh; margin-inline: 2.6vw; padding-block: 0.5vh">
      <a id="/administrativo/funcionarios" class="navbar-color-select-block font-color-reverse navbar-color-select" style="border-bottom: 0.1vh solid rgba(0,0,0, 0.3); text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Funcionários</a>
      <a id="/administrativo/configs" class="navbar-color-select-block font-color-reverse navbar-color-select" style="border-bottom: 0.1vh solid rgba(0,0,0, 0.3); text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Configurações</a>
      <a id="/administrativo/logs" class="navbar-color-select-block font-color-reverse navbar-color-select" style="border-bottom: 0.1vh solid rgba(0,0,0, 0.3); text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Logs</a>
      <a id="/administrativo/relatorios" class="navbar-color-select-block font-color-reverse navbar-color-select" style="text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Relatórios</a>
    </div>
  </div>

  <div id="dashboard">
    <div onclick="openSubMenu('dashboard')" id="button-dashboard" class="navbar-background-select font-size3" style="border-top: 0.1vh solid rgba(0,0,0, 0.3); height: 7.5vh; display: flex; align-items: center; cursor: pointer">
      <i class="fa-regular fa-chart-user min-width16-1" style="display: flex; min-width: 4.6vw; justify-content: center;"></i>
      <a class="font-size2-5" style="font-size: 3vh; display: flex; width: 100%">Dashboard <i id="arrow-dashboard" class="fas fa-caret-left" style="width: 90%; margin-right: 10%; font-size: 3.5vh; display: flex; justify-content: right;"></i></a>
    </div>
    <div id="sub-dashboard" class="font-size2" style="display: none; flex-direction: column; font-size: 2.5vh; margin-inline: 2.6vw; padding-block: 0.5vh">
      <a id="/dashboard/destaques" class="navbar-color-select-block navbar-color-select font-color-reverse" style="border-bottom: 0.1vh solid rgba(0,0,0, 0.3); text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Destaques</a>
      <a id="/dashboard/metas" class="navbar-color-select-block navbar-color-select font-color-reverse" style="text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Metas</a>
    </div>
  </div>

  <div id="minhas">
    <div onclick="openSubMenu('minhas')" id="button-minhas" class="navbar-background-select font-size3" style="border-top: 0.1vh solid rgba(0,0,0, 0.3); height: 7.5vh; display: flex; align-items: center; cursor: pointer">
      <i class="far fa-memo-circle-info min-width16-1" style="display: flex; min-width: 4.6vw; justify-content: center;"></i>
      <a class="font-size2-5" style="font-size: 3vh; display: flex; width: 100%">Minhas <span style="padding-left: 0.7vw">Infs.</span> <i id="arrow-minhas" class="fas fa-caret-left" style="width: 90%; margin-right: 10%; font-size: 3.5vh; display: flex; justify-content: right;"></i></a>
    </div>
    <div id="sub-minhas" class="font-size2" style="display: none; flex-direction: column; font-size: 2.5vh; margin-inline: 2.6vw; padding-block: 0.5vh">
      <a id="/minhas/propostas" class="navbar-color-select-block navbar-color-select font-color-reverse" style="border-bottom: 0.1vh solid rgba(0,0,0, 0.3); text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Minhas Propostas</a>
      <a id="/minhas/leads" class="navbar-color-select-block navbar-color-select font-color-reverse" style="border-bottom: 0.1vh solid rgba(0,0,0, 0.3); text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Meus Leads</a>
      <a id="/minhas/relatorios" class="navbar-color-select-block navbar-color-select font-color-reverse" style="text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Meus Relatórios</a>
    </div>
  </div>
  <div id="propostas">
    <div onclick="openSubMenu('propostas')" id="button-propostas" class="navbar-background-select font-size3" style="border-top: 0.1vh solid rgba(0,0,0, 0.3); height: 7.5vh; display: flex; align-items: center; cursor: pointer">
      <i class="fa-regular fa-file-signature min-width16-1" style="display: flex; min-width: 4.6vw; justify-content: center;"></i>
      <a class="font-size2-5" style="font-size: 3vh; display: flex; width: 100%">Propostas <i id="arrow-propostas" class="fas fa-caret-left" style="width: 90%; margin-right: 10%; font-size: 3.5vh; display: flex; justify-content: right;"></i></a>
    </div>
    <div id="sub-propostas" class="font-size2" style="display: none; flex-direction: column; font-size: 2.5vh; margin-inline: 2.6vw; padding-block: 0.5vh">
      <a id="/propostas/cadastrar" class="navbar-color-select-block navbar-color-select font-color-reverse" style="border-bottom: 0.1vh solid rgba(0,0,0, 0.3); text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Nova Proposta</a>
      <a id="/propostas/lista" class="navbar-color-select-block navbar-color-select font-color-reverse" style="border-bottom: 0.1vh solid rgba(0,0,0, 0.3); text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Lista de Propostas</a>
      <a id="/propostas/leads" class="navbar-color-select-block navbar-color-select font-color-reverse" style="text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Lista de Leads</a>
    </div>
  </div>
  <div id="consultas">
    <div onclick="openSubMenu('consultas')" id="button-consultas" class="navbar-background-select font-size3" style="border-bottom: 0.1vh solid rgba(0,0,0, 0.3); border-top: 0.1vh solid rgba(0,0,0, 0.3); height: 7.5vh; display: flex; align-items: center; cursor: pointer">
      <i class="far fa-file-search min-width16-1" style="display: flex; min-width: 4.6vw; justify-content: center;"></i>
      <a class="font-size2-5" style="font-size: 3vh; display: flex; width: 100%">Consultas <i id="arrow-consultas" class="fas fa-caret-left" style="width: 90%; margin-right: 10%; font-size: 3.5vh; display: flex; justify-content: right;"></i></a>
    </div>
    <div id="sub-consultas" class="font-size2" style="display: none; flex-direction: column; font-size: 2.5vh; margin-inline: 2.6vw; padding-block: 0.5vh">
      <a id="/consultas/dados" class="navbar-color-select-block navbar-color-select font-color-reverse" style="border-bottom: 0.1vh solid rgba(0,0,0, 0.3); text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Dados</a>
      <a id="/consultas/fgts" class="navbar-color-select-block navbar-color-select font-color-reverse" style="border-bottom: 0.1vh solid rgba(0,0,0, 0.3); text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> FGTS</a>
      <a id="/consultas/lotes" class="navbar-color-select-block navbar-color-select font-color-reverse" style="text-decoration: none; cursor: pointer; padding-block: 0.5vh"><i style="padding-right: 0.2vw" class="fas fa-angle-right"></i> Lotes</a>
    </div>
  </div>

</div>
<div class="invisibleAndroid" style="z-index: 999; position: fixed; left: 6vw; height: 10vh; display: flex; align-items: center;">
  <a href="/"><img id="logo" class="zoom" src="/public/images/logo_white.png" style="z-index: 2; width: 10vw;"></a>
</div>

<div id="avisoMenu" class="background-reverse" style="z-index: 999; display: none; width: 40vw; position: fixed; top: 13vh; left: 30vw; border-radius: 3vh; padding-inline: 1.2vw">
  <div style="width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center">
    <a class="font-color-navbar-reverse font-5" style="font-size: 4vh; font-weight: 600; margin-top: 2.5vh">Aviso:</a>
    <a id="aviso" style="font-size: 2.1vh; margin-top: 1.1vh; width: 100%; display: flex; align-items: center; justify-content: center; text-align: center;"></a>
    <div onclick="avisoOK()" class="buttonLogin" style="width: 22%; margin-top: 3vh; margin-bottom: 2.5vh; font-size: 2.2vh; padding-block: 1vh; border-radius: 1.5vh">OK</div>
  </div>
</div>

<script>
  var sidebar = false
  function openSideBar() {
    if (sidebar) {
      for (var key in submenus) { if(submenus[key].active) openSubMenu(key) }
      sidebar = false
      document.getElementById("sidebar").style.setProperty('width', `${window.screen.width < 900 ? '0vw' : '4.5vw'}`, 'important')
      document.getElementById("iconSideBar").classList.remove('fa-times')
      document.getElementById("iconSideBar").classList.add('fa-bars');
      document.getElementById('logo2').style.display = 'none'
    } else {
      sidebar = true
      document.getElementById("sidebar").style.setProperty('width', `${window.screen.width < 900 ? '65vw' : '20vw'}`, 'important')
      document.getElementById("iconSideBar").classList.remove('fa-bars')
      document.getElementById("iconSideBar").classList.add('fa-times');
      if (window.screen.width < 900) document.getElementById('logo2').style.display = 'flex'
    }
  }
  var submenus = {
    "administrativo": {
      active: false,
      "funcionarios": { perm: "administrativo_funcionarios", link: "/administrativo/funcionarios" },
      "configs": { perm: "administrativo_configs", link: "/administrativo/configs" },
      "logs": { perm: "administrativo_funcionarios", link: "/administrativo/logs" },
      "relatorios": { perm: "administrativo_relatorios", link: "/administrativo/relatorios" },
    },
    "dashboard": {
      active: false,
      "destaques": { perm: false, link: "/dashboard/destaques" },
      "metas": { perm: false, link: "/dashboard/metas" },
    },
    "minhas": {
      active: false,
      "propostas": { perm: false, link: "/minhas/propostas" },
      "leads": { perm: false, link: "/minhas/leads" },
      "relatorios": { perm: false, link: "/minhas/relatorios" },
    },
    "propostas": {
      active: false,
      "cadastrar": { perm: "propostas_cadastrar", link: "/propostas/cadastrar" },
      "lista": { perm: "propostas_lista", link: "/propostas/lista" },
      "leads": { perm: "propostas_leads", link: "/propostas/leads" },
    },
    "consultas": {
      active: false,
      "dados": { perm: "consultas_fgts", link: "/consultas/dados" },
      "fgts": { perm: "consultas_fgts", link: "/consultas/fgts" },
      "lotes": { perm: "consultas_lotes", link: "/consultas/lotes" },
    },
  }
  function openSubMenu(submenu) {
    if (!sidebar) openSideBar()
    if (!submenus[submenu]) return alert('SubMenu não encontrado...')
    if (submenus[submenu].active) {
      submenus[submenu].active = false
      document.getElementById(submenu).classList.remove('submenu-select')
      document.getElementById(`button-${submenu}`).classList.remove('submenuButton-select')
      document.getElementById(`sub-${submenu}`).style.display = 'none'
      document.getElementById(`arrow-${submenu}`).classList.remove('fa-caret-down')
      document.getElementById(`arrow-${submenu}`).classList.add('fa-caret-left')
    } else {
      submenus[submenu].active = true
      document.getElementById(submenu).classList.add('submenu-select')
      document.getElementById(`button-${submenu}`).classList.add('submenuButton-select')
      document.getElementById(`sub-${submenu}`).style.display = 'flex'
      document.getElementById(`arrow-${submenu}`).classList.remove('fa-caret-left')
      document.getElementById(`arrow-${submenu}`).classList.add('fa-caret-down')
    }
  }
  function changeTheme() {
    if (localStorage.getItem('theme') === 'dark') {
      localStorage.setItem('theme', 'light');
      document.documentElement.className = 'light'
      document.getElementById("logo").src="/public/images/logo_white.png"
      document.getElementById("logo2").src="/public/images/logo_white.png"
      document.getElementById("themeNAVBAR").classList.remove('fa-lightbulb-slash')
      document.getElementById("themeNAVBAR").classList.add('fa-lightbulb-on');
    } else {
      localStorage.setItem('theme', 'dark');
      document.documentElement.className = 'dark'
      document.getElementById("logo").src="/public/images/logo_black.png"
      document.getElementById("logo2").src="/public/images/logo_black.png"
      document.getElementById("themeNAVBAR").classList.remove('fa-lightbulb-on')
      document.getElementById("themeNAVBAR").classList.add('fa-lightbulb-slash');
    }
  }
  function openBell(bell) {
    if (!bell != "bellVend") {
      document.getElementById('bellVend').style.display = 'none'
      document.getElementById('bellVend_button').classList.remove("bellSelect");
    }
    if (!bell != "bellOper") {
      document.getElementById('bellOper').style.display = 'none'
      document.getElementById('bellOper_button').classList.remove("bellSelect");
    }
    document.getElementById(bell).style.display = 'inline'
    document.getElementById(`${bell}_button`).classList.add("bellSelect");
  }
  function refreshLogin() {
    if (document.getElementById('bellIcon').classList.contains('bellBlock')) return;
    document.getElementById('bellIcon').classList.add('bellBlock');
    document.getElementById('bellLoader').style.display = 'flex'
    $.ajax({ type: "post",url: `${apiURL}/logins/verify`,
      data: JSON.stringify({ user: localStorage.getItem('user'), password: localStorage.getItem('password'),}),
      contentType:"application/json; charset=utf-8",
      success: async function(s) {
        document.getElementById('bellLoader').style.display = 'none'
        setTimeout(function(){ document.getElementById('bellIcon').classList.remove('bellBlock') },5000)
        if (s.error) return alert(s.error)
        login = s
        return load();
      },
      error: function(e) {
        document.getElementById('bellLoader').style.display = 'none'
        setTimeout(function(){ document.getElementById('bellIcon').classList.remove('bellBlock') },5000)
        if (e.responseJSON && e.responseJSON.error) return alert(e.responseJSON.error)
        return alert(`A minha API demorou muito para retornar uma resposta valida...`)
      }
    })
  }

  function avisoOK() {
    document.getElementById('avisoMenu').style.display = 'none'
    localStorage.setItem('aviso', document.getElementById('aviso').innerHTML)
    document.getElementById('aviso').innerHTML = ''
  }

  function load() {
    if (!login) return $(document.body).load(`/views/login.html`)
    if (login.aviso.value) {
      if (localStorage.getItem('aviso') != login.aviso.value) {
        document.getElementById('aviso').innerHTML = login.aviso.value
        document.getElementById('avisoMenu').style.display = 'flex'
      }
    }
    document.getElementById('userNAVBAR').innerHTML = `${login.login.user.length > 10 ? login.login.user.slice(0,10)+"..." : login.login.user}#${login.login.codigo}`
    for (var menu in submenus) {
      for (var sub in submenus[menu]) {
        if (sub != 'active' && !submenus[menu][sub].off && document.getElementById(`${submenus[menu][sub].link}`)) {
          if (!submenus[menu][sub].perm || login.perms[submenus[menu][sub].perm]) {
            document.getElementById(`${submenus[menu][sub].link}`).classList.remove('navbar-color-select-block');
            document.getElementById(`${submenus[menu][sub].link}`).href = submenus[menu][sub].link
          } else if (submenus[menu][sub].link == window.location.pathname || submenus[menu][sub].link == window.location.pathname.slice(0, -1)) return window.location = "/"
        }
      }
    }
    for (var key in login.bellOper) {
      if((login.bellOper[key] || login.bellOper[key]) && document.getElementById(`bellOper_${key}`)) document.getElementById(`bellOper_${key}`).innerHTML = login.bellOper[key]
    }
    for (var key in login.bellVend) {
      if((login.bellVend[key] || login.bellVend[key] == 0) && document.getElementById(`bellVend_${key}`)) document.getElementById(`bellVend_${key}`).innerHTML = login.bellVend[key]
    }
    var color = false
    if (login.perms.propostas_lista) {
      if (login.bellOper.inclusao >= 1) color = 'olivedrab'
      if (login.bellOper.digitado >= 1) color = 'cyan'
      if (login.bellOper.assinado >= 1) color = 'palevioletred'
      if (login.bellOper.pendencia_resolvida >= 1) color = 'brown'
      if (login.bellOper.nao_digitado >= 1) color = 'red'
      if (login.bellOper.bellOper_assinar >= 1) color = 'gray'
    }
    if (login.bellVend.inclusao >= 1) color = 'olivedrab'
    if (login.bellVend.analise >= 1) color = 'mediumseagreen'
    if (login.bellVend.aguardando_assinatura >= 1) color = 'lavender'
    if (login.bellVend.pendente_assinatura >= 1) color = 'darkorange'
    if (login.bellVend.pendente >= 1) color = 'gold'
    if (color) {
      document.getElementById('bellIcon').classList.remove('fa-bell');
      document.getElementById('bellIcon').classList.add('fa-bell-on');
      document.getElementById('bellIcon').style.color = color ? color : 'white'
    }
  }
  (function () {
    if (localStorage.getItem('theme') === 'dark') {
      localStorage.setItem('theme', 'dark');
      document.documentElement.className = 'dark'
      document.getElementById("logo").src="/public/images/logo_black.png"
      document.getElementById("logo2").src="/public/images/logo_black.png"
      document.getElementById("themeNAVBAR").classList.remove('fa-lightbulb-on')
      document.getElementById("themeNAVBAR").classList.add('fa-lightbulb-slash');
    } else {
      localStorage.setItem('theme', 'light');
      document.documentElement.className = 'light'
      document.getElementById("logo").src="/public/images/logo_white.png"
      document.getElementById("logo2").src="/public/images/logo_white.png"
      document.getElementById("themeNAVBAR").classList.remove('fa-lightbulb-slash')
      document.getElementById("themeNAVBAR").classList.add('fa-lightbulb-on');
    }
    var url = window.location.pathname.split('/')
    if (url[1] && url[2]) {
      document.getElementById(url[1]).classList.add('navbar-select');
      document.getElementById("/"+url[1]+"/"+url[2]).classList.add('navbar-sub-select');
    } else if (url[1]) {
      document.getElementById(url[1]).classList.add('navbar-select');
    } else {
      document.getElementById("dashboard").classList.add('navbar-select');
      document.getElementById("/dashboard/destaques").classList.add('navbar-sub-select');
    }
    return load();
  })();
</script>

<script>
  var alterCredencias = false
  function openAlter() {
    if (alterCredencias) {
      alterCredencias = false
      document.getElementById('user-submenu').style.display = ''
      document.getElementById('user-alter').style.display = 'none'
    } else {
      alterCredencias = true
      document.getElementById('alterUser').classList.remove("buttonBlock");
      document.getElementById('user-submenu').style.display = 'none'
      document.getElementById('user-alter').style.display = 'flex'
    }
  }
  function alterUser() {
    if (document.getElementById('alterUser').classList.contains('buttonBlock')) return alert('Aguarde...')
    if (!document.getElementById('actualPass').value) return alert('Você não colocou sua senha atual...')
    if (!document.getElementById('newPass').value && !document.getElementById('newEmail').value) return alert('Você não colocou uma senha ou email novo...')
    if (document.getElementById('newPass').value && document.getElementById('newPass').value != document.getElementById('repeatPass').value) return alert('Você repetiu a sua nova senha errado...')
    if (document.getElementById('newPass').value == document.getElementById('actualPass').value) return alert('Você não pode deixar sua nova senha igual a atual...')
    if (document.getElementById('actualPass').value != localStorage.getItem('password')) return alert('Sua senha atual está errada...')
    document.getElementById('alterUser').innerHTML = `<i class="fad fa-spinner-third fa-spin"></i>`
    document.getElementById('alterUser').classList.add("buttonBlock");
    $.ajax({ type: "post",url: `${apiURL}/logins/edit`,
    data: JSON.stringify({
      user: localStorage.getItem('user'),
      password: document.getElementById('actualPass').value,
      funcionario: localStorage.getItem('user'),
      pass: document.getElementById('newPass') ? document.getElementById('newPass').value : false,
      email: document.getElementById('newEmail') ? document.getElementById('newEmail').value : false,
    }), contentType:"application/json; charset=utf-8",
      success: async function(s) {
        document.getElementById('alterUser').innerHTML = `<p class="font-1">Alterar</p>`
        document.getElementById('alterUser').classList.remove("buttonBlock");
        if (s.error) return alert(s.error)
        if (document.getElementById('newPass') && document.getElementById('newPass').value) localStorage.setItem('password', document.getElementById('newPass').value)
        return alert('Suas informações foram alteradas com sucesso...')
      },
      error: function(e) {
        document.getElementById('alterUser').innerHTML = `<p class="font-1">Alterar</p>`
        document.getElementById('alterUser').classList.remove("buttonBlock");
        if (e.responseJSON && e.responseJSON.error) return alert(e.responseJSON.error)
        return alert(`A minha API demorou muito para retornar uma resposta valida...`)
      }
    })
  }
</script>